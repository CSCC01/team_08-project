---
id: back-tests
title: Backend Tests
---

## Testing

Documented test cases can be found in server/{app}/test**.py where app is the corresponding app to test case.  

Specific apps, test suites, or even individual test cases can be run using the format: "python manage.py test App.Test_File.Test_Suite.Test_Case" depending on how deep you want to go. (Test_File is usually=tests)

#### Testing table legend
| Column                      | Column Description                                                                                                                                                   |
| :-------------------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| Test Case Name              | Name of Test Case                                                                                                                                                    |
| App                         | Django app test case is testing                                                                                                                                      |
| Test Suite                  | Test Suite for test case                                                                                                                                             |
| Evaluation Criteria         | Criteria function must pass to pass test case                                                                                                                        |                               
| (Possible Risk) Description | A description of possible risks associated with test case failure                                                                                                    |
| Magnitude                   | Measurement of how dangerous possible risks associated with test case failure                                                                                        |
| Probability                 | Measurement of how likely possible risks may occur associated with test case failure                                                                                 |
| Priority                    | Priority of importance for function to pass test case, priority is influenced by probability, magnitude and the function's priority (found in backlog) it is testing |             

#### Master Testing Table

|  Test Case Name                       |     App    | Test Suite          |  Evaluation Criteria                                                                                                                                                                      | (Possible Risks) Description                                                                             | Magnitude | Probability | Priority |
| :-----------------------------------: | :--------: | :----------------:  | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:  | :------------------------------------------------------------------------------------------------------: | :-------: | :--------:  | :-----:  |                                 
|  test_signup                          | user       | SDUserTestCases     | Checks to see if The User has been inserted into the database                                                                                                                             | No new Users can be made                                                                                 |    High   |     High    |   High   |   
|  test_signup_invalid_role             | user       | SDUserTestCases     | Checks to see the proper Validation Error is thrown                                                                                                                                       | Anything can be used as a role                                                                           |    High   |     Low     |  Medium  |   
|  test_reassign_RO_to_BU               | user       | SDUserTestCases     | Checks if the role change to BU is reflected in the database                                                                                                                              | Users won't be able to be 'demoted'                                                                      |    Low    |     Low     |   Low    |     
|  test_reassign_BU_to_RO_User          | user       | SDUserTestCases     | Checks if the role change to RO and new restaurant id is reflected in the database (user side)                                                                                            | New ROs won't be able to be created                                                                      |    High   |     Low     |  Medium  |     
|  test_reassign_BU_to_RO_Restaurant    | user       | SDUserTestCases     | Checks if the role change to RO and new restaurant id is reflected in the database (restaurant side)                                                                                      | New Restaurants won't be able to be created                                                              |    High   |     Low     |  Medium  |
|  test_data                            | user       | SDUserTestCases     | Checks the user data returned is the matching the queried user                                                                                                                            | Display incorrect data for users                                                                         |    High   |     High    |   High   |     
|  test_exists_true                     | user       | SDUserTestCases     | Checks if an existing user exists                                                                                                                                                         | Users will be unable to upgrade                                                                          |    High   |     High    |   High   |     
|  test_exists_false                    | user       | SDUserTestCases     | Checks if a non-existing user exists                                                                                                                                                      | Unable to sign up users                                                                                  |    High   |     High    |   High   |   
|  test_edit_user_valid                 | user       | SDUserTestCases     | Given new user data, user document is updated to represent new data                                                                                                                       | Users will be unable to customize their profile                                                          |    Low    |     Low     |   Low    |   
|  test_edit_user_invalid               | user       | SDUserTestCases     | Test if invalid fields are returned                                                                                                                                                       | Incorrect invalid fields will be highlighted                                                             |    Low    |     Medium  |   Low    |
|  test_add_randomizer                  | utils      | UtilityTestCases    | Adds a new ["key": randomization_function()] pair into the seeder dictionary                                                                                                              | Incorrectly add new randomization functions to seeders                                                   |    Low    |     Low     |   Low    |     
|  test_gen_rand_dict                   | utils      | UtilityTestCases    | Generates random data based on given seeding dictionary                                                                                                                                   | Inability to randomly generate data for seeding                                                          |    Low    |     Low     |   Low    |     
|  test_clean_dict                      | utils      | UtilityTestCases    | Cleans invalid randomization functions (Non JSON-Encodable outputs) from a given seeding dictionary                                                                                       | Potentially broken seeding scripts with functions that produce non JSON-encodable outputs                |    Low    |     Low     |   Low    |     
|  test_clear_tags                      | restaurant | TagClearCases       | Tag ids are correctly purged from a Food document                                                                                                                                         | Tags remain in database which may result in referencing non-existent tag documents                       |   Medium  |    Medium   |  Medium  |
|  test_clear_foods                     | restaurant | TagClearCases       | Food ids are correctly purged from Tag document                                                                                                                                           | Foods remain tagged which may result in search engine displaying non-existent/incorrect documents        |   Medium  |    Medium   |  Medium  |
|  test_food_ids                        | restaurant | AddTagCases         | Tag ids are correctly updated from tagging an existing Tag document                                                                                                                       | Food will not be associated with subsequent tag which may cause incorrect search engine results          |   Medium  |     Low     |  Medium  |
|  test_tag_ids                         | restaurant | AddTagCases         | Tag ids are correctly updated from tagging an existing Tag document                                                                                                                       | Restaurant owners will be unable to tag their dishes resulting in search engines skipping their dishes   |   Medium  |     High    |  Medium  |
|  test_tag_creation                    | restaurant | AddTagCases         | Tag document is correctly generated upon tagging with a "new" tag word                                                                                                                    | New Tag documents will not be generated, resulting in limited search engine results                      |   Medium  |     Low     |  Medium  |
|  test_foods_already_tagged            | restaurant | AddTagCases         | Food ids are not duplicated upon tagging an already tagged (Food, Tag) couple                                                                                                             | Duplicate food ids take up extra space in the database and slow down querying                            |    Low    |     Low     |   Low    |
|  test_tags_already_tagged             | restaurant | AddTagCases         | Tag ids are not duplicated upon tagging an already tagged (Food, Tag) couple                                                                                                              | Duplicate tag ids take up extra space in the database and slow down querying                             |    Low    |     Low     |   Low    |
|  test_auto                            | restaurant | AutoTagCases        | Correct Tag document correctly automatically generated based on Food's description                                                                                                        | Search engine results become slowly reliant on user input and cannot provide robust results to the user  |   Medium  |     High    |  Medium  |
|  test_insert_food_valid               | restaurant | FoodTestCases       | Given food data, restaurant document is inserted into database representing said data                                                                                                     | Restaurants will not be able to upload dishes onto their menu                                            |   High    |     High    |  High    |
|  test_insert_food_invalid             | restaurant | FoodTestCases       | Test if invalid fields are returned                                                                                                                                                       | Incorrect invalid fields will be highlighted                                                             |   High    |     High    |  High    |
|  test_get_all_foods                   | restaurant | FoodTestCases       | All food documents within the database are correctly retrieved                                                                                                                            | Frontend will be unable feature dishes on the homepage                                                   |   Medium  |     High    |  Medium  |                               
|  test_get_by_restaurant               | restaurant | FoodTestCases       | All food documents for a restaurant within the database are correctly retrieved                                                                                                           | Frontend will be unable show each restaurant's page/menu                                                 |     High  |     High    |  High    |                               
|  test_delete_food                     | restaurant | FoodTestCases       | The Food object is correctly wiped from the database                                                                                                                                      | Restaurant Pages will have previously deleted dishes                                                     |   Medium  |     Medium  |  Medium  |
|  test_edit_dish_valid                 | restaurant | FoodTestCases       | Given new food data, food document is updated to represent new data                                                                                                                       | Restaurant Owners will be unable to edit the information of their dishes                                 |   Medium  |     Medium  |  Medium  |                               
|  test_edit_dish_invalid               | restaurant | FoodTestCases       | Test if invalid fields are returned                                                                                                                                                       | Incorrect invalid fields will be highlighted                                                             |   Medium  |     Medium  |  Medium  |                               
|  test_find_restaurant                 | restaurant | RestaurantTestCases | Correct restaurant document is retrieved given primary key 'id'                                                                                                                           | Frontend will be unable to documents associated with that specific restaurant such as dishes and users   |    High   |     High    |   High   |
|  test_find_all_restaurant             | restaurant | RestaurantTestCases | All restaurant documents are retrieved from database                                                                                                                                      | Frontend will is unable to display restaurant data                                                       |    High   |     High    |   High   |
|  test_insert_restaurant_valid         | restaurant | RestaurantTestCases | Given restaurant data, restaurant document is inserted into database representing said data                                                                                               | New restaurants cannot be added to the database                                                          |    High   |     High    |   High   |
|  test_insert_restaurant_invalid       | restaurant | RestaurantTestCases | Test if invalid fields are returned                                                                                                                                                       | Incorrect invalid fields will be highlighted                                                             |    High   |     High    |   High   |
|  test_edit_restaurant_valid           | restaurant | RestaurantTestCases | Given new restaurant data, restaurant document is updated to represent new data                                                                                                           | Restaurant data becomes static and cannot be changed by restaurant owner                                 |   Medium  |    Medium   |  Medium  |
|  test_edit_restaurant_invalid         | restaurant | RestaurantTestCases | Test if invalid fields are returned                                                                                                                                                       | Incorrect invalid fields will be highlighted                                                             |   Medium  |    Medium   |  Medium  |
|  test_upload                          | timeline   | PostSuite           | Given post data, Post document is generated in the database                                                                                                                               | No Post can be created                                                                                   |   Medium  |     High    |  Medium  |
|  test_get_post_by_restaurant          | timeline   | PostSuite           | All post documents for a restaurant within the database are correctly retrieved                                                                                                           | Restaurant Timelines will not be populated properly                                                      |   Medium  |     High    |  Medium  |
|  test_delete                          | timeline   | PostSuite           | Given post id, post and its related comments are deleted from the database                                                                                                                | No Post can be deleted                                                                                   |   Medium  |     Medium    |  Medium  |
|  test_get_all_post                    | timeline   | PostSuite           | All post documents within the database are correctly retrieved                                                                                                                            | Story tab will not be populated properly                                                                 |   Medium  |     High    |  High    |
|  test_upload_comment                  | timeline   | CommentSuite        | Given Comment data, Comment document is generated in the database                                                                                                                         | No Comments can be created                                                                               |   Medium  |     High    |  Medium  |
|  test_upload_post                     | timeline   | CommentSuite        | Given Comment data, Comment document id is added to original post's comments                                                                                                              | No Comments can be viewed                                                                                |   Medium  |     High    |  Medium  |
|  test_comment_delete_comment          | timeline   | CommentSuite        | Given the id of the comment, comment is deleted on the comment side                                                                                                                       | No Comments can be deleted                                                                               |   Low     |     Medium  |  Medium  |
|  test_comment_delete_post             | timeline   | CommentSuite        | Given the id of the comment, comment is deleted on the post side                                                                                                                          | Posts will include deleted comments                                                                      |   Low     |     Medium  |  Medium  |
|  test_get_comment                     | timeline   | CommentSuite        | Correct comment document is retrieved given primary key 'id'                                                                                                                              | Comments can not be viewed                                                                               |   Medium  |     Medium  |  Medium  |
|  test_upload                          | cloud_storage | CloudStorageTestCases | File is uploaded to cloud, and correct path pointing to file is returned                                                                                                             | Images media cannot be changed                                                                           |   High    |     High    |   High   |
|  test_delete                          | cloud_storage | CloudStorageTestCases | File is removed from the cloud                                                                                                                                                       | Images remain clogging the storage                                                                       |   Medium  |    Medium   |  Medium  |
|  test_delete_default                  | cloud_storage | CloudStorageTestCases | Files in default-buckets are not deleted                                                                                                                                             | Default images are deleted, affecting many users unwantingly                                             |   High    |     High    |   High   |
| test_restaurant_logo                  | cloud_storage | CloudEndPoints        | Url is saved to correct restaurant document's logo_url                                                                                                                               | Restaurant logo cannot be updated                                                                        |   Medium  |     High    |  Medium  |
| test_restaurant_cover_photo           | cloud_storage | CloudEndPoints        | Url is saved to correct restaurant document's cover_photo_url                                                                                                                        | Restaurant cover photo cannot be updated                                                                 |   Medium  |     High    |  Medium  |
| test_restaurant_owner_photo_url       | cloud_storage | CloudEndPoints        | Url is saved to correct restaurant document's owner picture                                                                                                                          | Restaurant owner picture cannot be updated                                                               |   Medium  |     High    |  Medium  |
| test_food_picture                     | cloud_storage | CloudEndPoints        | Url is saved to correct food document's picture                                                                                                                                      | Food picture cannot be updated                                                                           |   Medium  |     High    |  Medium  |
| test_owner_picture                    | cloud_storage | CloudEndPoints        | Url is saved to correct SDUser document's picture                                                                                                                                    | SDUser picture logo cannot be updated                                                                    |   Medium  |     High    |  Medium  |
|  test_insert_cart                     | order      | CartTestCases       | Test if cart document is inserted into the database                                                                                                                                       | No customer can create a cart and therefore can't order food                                             |   High    |     High    |   High   |
|  test_get_users_cart                  | order      | CartTestCases       | Test if cart documents are retrievable by user_email                                                                                                                                      | No customer can view their cart and therefore can't order food                                             |   High    |     High    |   High   |
|  test_get_closed_cart                 | order      | CartTestCases       | Test if a user with only closed carts is notified that there is no open cart                                                                                                              | May cause loading closed carts and an inability to tell if a new cart should be created                      |   High    |     High    |   High   |
|  test_get_no_cart                     | order      | CartTestCases       | Test if a user with no previous carts is notified that there is no open cart                                                                                                              | Causes an inability to tell if a new cart should be created                                                 |   High    |     High    |   High   |
|  test_insert_item_item                | order      | CartTestCases       | Test if item document is inserted into the database                                                                                                                                       | Carts will not be populated                                                                              |   High    |     High    |   High   |
|  test_insert_item_cart                | order      | CartTestCases       | Test if cart price is correct after item document is inserted into the database                                                                                                           | Total Price will not be recorded                                                                         |   High    |     High    |   High   |
| test_send                             | order      | CartStatusCases     | Test if send timestamp status is updated                                                                                                                                                  | Orders cannot be sent                                                                                    |   High    |     High    |   High   |
| test_accept                           | order      | CartStatusCases     | Test if accept status is updated                                                                                                                                                          | Orders cannot be accepted                                                                                |   High    |     High    |   High   |
| test_complete                         | order      | CartStatusCases     | Test if completion status is updated                                                                                                                                                      | Orders cannot be completed                                                                               |   High    |     High    |   High   |
| test_order_fail                       | order      | CartStatusCases     | Test if order status cannot be updated and an appropriate httpbadresponse error message is sent                                                                                           | Orders are illegally updated                                                                             |   High    |     High    |   High   |
| test_invalid_form                     | order      | CartStatusCases     | Test if invalid request httpbadresponse is sent                                                                                                                                           | Invalid requests may infect the database                                                                 |   High    |     High    |   High   |                                                   
|  test_remove_price                    | order      | CartRemoveTestCases       | Test if item has been successfully removed from the database                                                                                                                        | Illegal item resides in database                                                                         |   High    |     High    |   High   |
|  test_remove_item_price               | order      | CartRemoveTestCases       | Test if cart price has been correctly decremented from the database                                                                                                                 | User may have to pay for items he has nor ordered                                                        |   High    |     High    |   High   |
|  test_remove_cart                     | order      | CartRemoveTestCases       | Test if cart has been removed from database given it is last item                                                                                                                        | Illegal cart resides in database                                                                        |   High    |     High    |   High   |
|  test_item_count_change               | order      | CartEditTestCases         | Test if item count has been correctly edited                                                                                                                                        | Incorrectly edit item amounts                                                                         |   High    |     High    |   High   |
|  test_count_change_cart_price         | order      | CartEditTestCases         | Test if item count change properly recalculates prices on its cart                                                                                                                  | User will pay incorrect prices                                                                          |   High    |     High    |   High   |
|  test_zerocount_deletion              | order      | CartEditTestCases         | Test if item has been removed database given its amount is changed to 0                                                                                                             | Illegal item resides in database                                                                        |   Medium    |     Medium    |   Medium   |